1. Общее описание
Система предназначена для автоматизации учета посещаемости сотрудников предприятий или студентов учебных заведений с использованием технологии распознавания лиц.
Основные функции:
•	Регистрация новых пользователей с захватом изображений лица.
•	Автоматическая фиксация времени прихода/ухода.
•	Просмотр статистики посещаемости за выбранный период.
•	Экспорт данных в Excel.
•	Управление пользователями (добавление, удаление, поиск).
•	Настройка параметров системы (максимальное количество распознаваемых лиц, тип учреждения).
________________________________________
2. Структура проекта

├── app/  
│   ├── core/  
│   │   ├── database.py        # Управление БД (SQLite)  
│   │   ├── face_recognition.py # Распознавание лиц (InsightFace)  
│   │   └── paths.py           # Определение путей к файлам  
│   ├── data/  
│   │   ├── db/                # Базы данных (educational.db, enterprise.db)  
│   │   ├── faces/             # Изображения лиц пользователей  
│   ├── settings/  
│   │   ├── settings.py        # Менеджер настроек (INI-файлы)  
│   │   └── ...  
│   ├── styles/                # Стили интерфейса (QSS) и шрифты  
│   └── ui/                    # Графический интерфейс (PyQt6)  
│       ├── main_window.py     # Главное окно  
│       ├── registration.py    # Вкладка регистрации  
│       ├── export.py          # Экспорт данных  
│       └── ...  
└── main.py                    # Точка входа в приложение  
________________________________________
3. Установка и запуск
Требования:
•	Python 3.10+
•	Зависимости (установка через pip):
bash
•	pip install -r requirements.txt
Запуск:
bash
python main.py
________________________________________
4. Описание ключевых компонентов
4.1. База данных (app/core/database.py)
•	DatabaseManager — класс для работы с SQLite.
o	Создает таблицы для учреждений (Educational/Enterprise).
o	Методы:
	add_user() — добавление пользователя.
	get_attendance() — получение данных о посещаемости.
	delete_user() — удаление пользователя и связанных изображений.
4.2. Распознавание лиц (app/core/face_recognition.py)
•	FaceRecognizer — класс для работы с моделью InsightFace.
o	process_frame() — обработка видеопотока и распознавание лиц.
o	register_new_user() — захват образцов лица для регистрации.
o	Интеграция с базой данных для проверки посещений.
4.3. Графический интерфейс (app/ui/)
•	MainWindow — главное окно с вкладками:
o	Главная: Видеопоток с камеры и таблица текущей посещаемости.
o	Регистрация: Форма для добавления пользователей (ФИО, группа/должность).
o	Экспорт: Выбор дат и сохранение данных в Excel.
o	Статистика: Поиск записей по дате или тексту.
o	Участники системы: Управление пользователями (удаление, поиск).
4.4. Настройки (app/settings/settings.py)
•	SettingsManager — управление настройками через INI-файлы:
o	max_faces — максимальное количество лиц для одновременного распознавания.
o	institution — тип учреждения (Educational/Enterprise).
________________________________________
5. Примеры использования
5.1. Регистрация нового пользователя
1.	Перейдите на вкладку Регистрация.
2.	Заполните поля (ФИО, группа/должность).
3.	Нажмите Зарегистрировать — система захватит 10 изображений лица через камеру.
5.2. Просмотр посещаемости
1.	На вкладке Главная нажмите Начать отслеживание.
2.	Система автоматически фиксирует присутствующих и обновляет таблицу.
5.3. Экспорт данных
1.	На вкладке Экспорт выберите диапазон дат.
2.	Нажмите Загрузить данные → Экспорт в Excel.
________________________________________
6. Настройка путей (app/core/paths.py)
•	ROOT_DIR — корневая директория проекта.
•	DATA_DIR — путь к данным (базы, изображения, отчеты).
•	Автоматическое создание недостающих директорий при запуске.
________________________________________
7. Обработка ошибок
•	При отсутствии камеры выводится сообщение: "Камера недоступна!".
•	Ошибки базы данных логируются в консоль (например, проблемы с подключением).
•	При попытке удаления пользователя требуется подтверждение.
________________________________________
8. Лицензия и зависимости
•	Проект использует открытые библиотеки:
o	InsightFace (распознавание лиц).
o	PyQt6 (графический интерфейс).
o	OpenCV (обработка изображений).
